# B03 Data Storage

**æ‰€å±é¢†åŸŸ**: [A03_Design_Architecture](../readme.md)
**åˆ›å»ºæ—¥æœŸ**: 2026-01-30
**æœ€åæ›´æ–°**: 2026-01-30

## ğŸ“‹ å­é¢†åŸŸå®šä½

æ•°æ®å­˜å‚¨æ˜¯ç³»ç»Ÿæ¶æ„çš„æ ¸å¿ƒç»„æˆéƒ¨åˆ†ï¼Œç›´æ¥å½±å“åº”ç”¨çš„æ€§èƒ½ã€å¯æ‰©å±•æ€§å’Œå¯é æ€§ã€‚éšç€æ•°æ®é‡çš„çˆ†ç‚¸æ€§å¢é•¿å’Œæ•°æ®ç±»å‹çš„å¤šæ ·åŒ–ï¼Œç°ä»£æ•°æ®æ¶æ„éœ€è¦å¤„ç†ä»å…³ç³»å‹äº‹åŠ¡åˆ°å®æ—¶åˆ†æã€ä»ç»“æ„åŒ–æ•°æ®åˆ°å‘é‡åµŒå…¥çš„å„ç§åœºæ™¯ã€‚

æœ¬é¢†åŸŸæ¶µç›–æ•°æ®åº“åˆ†ç‰‡ç­–ç•¥ï¼ˆæ°´å¹³/å‚ç›´åˆ†ç‰‡ã€åˆ†ç‰‡ç®—æ³•ï¼‰ã€æ•°æ®æ¹–ä¸æ•°æ®ä»“åº“å¯¹æ¯”ï¼ˆLakehouse æ¶æ„ã€ETL/ELTï¼‰ã€ä»¥åŠå‘é‡æ•°æ®åº“ï¼ˆEmbedding å­˜å‚¨ã€ç›¸ä¼¼æ€§æœç´¢ï¼‰ä¸‰å¤§æ–¹å‘ã€‚æ•°æ®æ¶æ„å¸ˆéœ€è¦æ ¹æ®ä¸šåŠ¡éœ€æ±‚åœ¨ä¸€è‡´æ€§ã€å¯ç”¨æ€§å’Œåˆ†åŒºå®¹é”™æ€§ä¹‹é—´åšå‡ºæƒè¡¡ã€‚

**æ ¸å¿ƒå…³æ³¨ç‚¹**ï¼š
- **æ•°æ®åº“åˆ†ç‰‡**: åˆ†ç‰‡ç­–ç•¥ã€è·¯ç”±ç®—æ³•ã€åˆ†å¸ƒå¼äº‹åŠ¡ã€å…¨å±€ ID
- **æ•°æ®æ¹–ä»“**: æ•°æ®æ¹–ã€æ•°æ®ä»“åº“ã€Lakehouseã€ETL/ELT ç®¡é“
- **å‘é‡æ•°æ®åº“**: Embedding å­˜å‚¨ã€è¿‘ä¼¼æœ€è¿‘é‚»æœç´¢ã€å¤šæ¨¡æ€æ£€ç´¢

## ğŸ—‚ï¸ ä¸“é¡¹åˆ—è¡¨

### [C01. Database_Sharding](C01_Database_Sharding/README.md)

æ•°æ®åº“åˆ†ç‰‡æ˜¯è§£å†³å•æœºæ•°æ®åº“æ€§èƒ½ç“¶é¢ˆçš„å…³é”®æŠ€æœ¯ã€‚æœ¬ä¸“é¡¹è¯¦è§£æ°´å¹³åˆ†ç‰‡ä¸å‚ç›´åˆ†ç‰‡ç­–ç•¥ã€å¸¸è§åˆ†ç‰‡ç®—æ³•ï¼ˆå“ˆå¸Œã€èŒƒå›´ã€åˆ—è¡¨ï¼‰ã€åˆ†ç‰‡è·¯ç”±å®ç°ã€ä»¥åŠåˆ†å¸ƒå¼äº‹åŠ¡è§£å†³æ–¹æ¡ˆï¼ˆ2PCã€Sagaã€TCCï¼‰ã€‚æ¶µç›–å…¨å±€å”¯ä¸€ ID ç”Ÿæˆï¼ˆSnowflakeã€UUIDï¼‰ã€åˆ†ç‰‡æ•°æ®è¿ç§»å’Œè·¨åˆ†ç‰‡æŸ¥è¯¢ä¼˜åŒ–ã€‚

### [C02. Data_Lakes_vs_Warehouses](C02_Data_Lakes_vs_Warehouses/README.md)

æ•°æ®æ¹–ä¸æ•°æ®ä»“åº“ä»£è¡¨äº†ä¸¤ç§ä¸åŒçš„æ•°æ®ç®¡ç†å“²å­¦ã€‚æœ¬ä¸“é¡¹æ·±å…¥æ•°æ®æ¹–æ¶æ„ï¼ˆåŸå§‹æ•°æ®å­˜å‚¨ã€Schema-on-readï¼‰ã€æ•°æ®ä»“åº“ç‰¹ç‚¹ï¼ˆç»“æ„åŒ–å­˜å‚¨ã€Schema-on-writeï¼‰ã€ä»¥åŠèåˆä¸¤è€…çš„ Lakehouse æ¶æ„ã€‚æ¶µç›– ETL vs ELT èŒƒå¼ã€æ•°æ®ç®¡é“å·¥å…·ï¼ˆApache Airflowã€dbtï¼‰å’Œç°ä»£åŒ–æ•°æ®æ ˆï¼ˆModern Data Stackï¼‰ã€‚

### [C03. Vector_Databases](C03_Vector_Databases/README.md)

å‘é‡æ•°æ®åº“ä¸“ä¸ºé«˜ç»´å‘é‡æ•°æ®çš„å­˜å‚¨å’Œæ£€ç´¢è€Œè®¾è®¡ã€‚æœ¬ä¸“é¡¹è¯¦è§£ Embedding ç”Ÿæˆä¸å­˜å‚¨ã€è¿‘ä¼¼æœ€è¿‘é‚»æœç´¢ç®—æ³•ï¼ˆHNSWã€IVFï¼‰ã€å‘é‡ç´¢å¼•æŠ€æœ¯ã€ä»¥åŠæ··åˆæœç´¢ï¼ˆå‘é‡+å…³é”®è¯ï¼‰ã€‚æ¶µç›–ä¸»æµå‘é‡æ•°æ®åº“ï¼ˆPineconeã€Milvusã€Weaviateã€pgvectorï¼‰å’Œ RAG åº”ç”¨æ¶æ„ã€‚

## ğŸ› ï¸ æŠ€æœ¯æ ˆæ¦‚è§ˆ

### å…³ç³»å‹æ•°æ®åº“

| æ•°æ®åº“ | ç‰¹ç‚¹ | é€‚ç”¨åœºæ™¯ | å®˜ç½‘ |
|--------|------|----------|------|
| **PostgreSQL** | åŠŸèƒ½ä¸°å¯Œï¼Œæ‰©å±•æ€§å¼º | OLTPï¼Œå¤æ‚æŸ¥è¯¢ | https://www.postgresql.org |
| **MySQL** | ç®€å•æ˜“ç”¨ï¼Œç”Ÿæ€å¹¿æ³› | Web åº”ç”¨ | https://www.mysql.com |
| **CockroachDB** | åˆ†å¸ƒå¼ SQL | å…¨çƒåˆ†å¸ƒå¼åº”ç”¨ | https://www.cockroachlabs.com |
| **TiDB** | äº‘åŸç”Ÿåˆ†å¸ƒå¼ | é«˜å¯ç”¨ OLTP | https://www.pingcap.com |
| **YugabyteDB** | äº‘åŸç”Ÿåˆ†å¸ƒå¼ | å…¨çƒåˆ†å¸ƒå¼ OLTP | https://www.yugabyte.com |

### NoSQL æ•°æ®åº“

| æ•°æ®åº“ | ç±»å‹ | ç‰¹ç‚¹ | å®˜ç½‘ |
|--------|------|------|------|
| **MongoDB** | æ–‡æ¡£å‹ | çµæ´» Schema | https://www.mongodb.com |
| **Redis** | é”®å€¼å‹ | å†…å­˜å­˜å‚¨ï¼Œé«˜æ€§èƒ½ | https://redis.io |
| **Cassandra** | å®½åˆ—å‹ | é«˜å¯ç”¨ï¼Œçº¿æ€§æ‰©å±• | https://cassandra.apache.org |
| **Neo4j** | å›¾æ•°æ®åº“ | å…³ç³»åˆ†æ | https://neo4j.com |
| **Elasticsearch** | æœç´¢å¼•æ“ | å…¨æ–‡æ£€ç´¢ | https://www.elastic.co |

### æ•°æ®ä»“åº“/æ¹–

| å¹³å° | ç±»å‹ | ç‰¹ç‚¹ | å®˜ç½‘ |
|------|------|------|------|
| **Snowflake** | äº‘æ•°æ®ä»“åº“ | å­˜ç®—åˆ†ç¦» | https://www.snowflake.com |
| **Databricks** | Lakehouse | ç»Ÿä¸€åˆ†æå¹³å° | https://databricks.com |
| **BigQuery** | äº‘æ•°æ®ä»“åº“ | æ— æœåŠ¡å™¨ | https://cloud.google.com/bigquery |
| **Redshift** | äº‘æ•°æ®ä»“åº“ | AWS é›†æˆ | https://aws.amazon.com/redshift |
| **Apache Iceberg** | è¡¨æ ¼å¼ | å¼€æ”¾æ ‡å‡† | https://iceberg.apache.org |

### å‘é‡æ•°æ®åº“

| æ•°æ®åº“ | ç‰¹ç‚¹ | å®˜ç½‘ |
|--------|------|------|
| **Pinecone** | æ‰˜ç®¡æœåŠ¡ï¼Œæ˜“ç”¨ | https://www.pinecone.io |
| **Milvus** | å¼€æºï¼Œäº‘åŸç”Ÿ | https://milvus.io |
| **Weaviate** | GraphQL æ¥å£ | https://weaviate.io |
| **pgvector** | PostgreSQL æ‰©å±• | https://github.com/pgvector/pgvector |
| **Chroma** | åµŒå…¥å¼ï¼Œè½»é‡ | https://www.trychroma.com |
| **Qdrant** | Rust å®ç°ï¼Œé«˜æ€§èƒ½ | https://qdrant.tech |

## ğŸ’¼ å®è·µæ¡ˆä¾‹ç´¢å¼•

### æ¡ˆä¾‹ 1: ç”µå•†å¹³å°æ•°æ®åº“åˆ†ç‰‡è®¾è®¡

**åˆ†ç‰‡ç­–ç•¥**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    è®¢å•è¡¨åˆ†ç‰‡è®¾è®¡                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  åˆ†ç‰‡é”®: user_id (å“ˆå¸Œåˆ†ç‰‡)                                   â”‚
â”‚                                                             â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Shard 0    â”‚  â”‚  Shard 1    â”‚  â”‚  Shard 2    â”‚         â”‚
â”‚  â”‚  (0-999)    â”‚  â”‚ (1000-1999) â”‚  â”‚ (2000-2999) â”‚         â”‚
â”‚  â”‚             â”‚  â”‚             â”‚  â”‚             â”‚         â”‚
â”‚  â”‚ User IDs    â”‚  â”‚ User IDs    â”‚  â”‚ User IDs    â”‚         â”‚
â”‚  â”‚ % 3 == 0    â”‚  â”‚ % 3 == 1    â”‚  â”‚ % 3 == 2    â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                                                             â”‚
â”‚  è·¯ç”±ç®—æ³•: shard = hash(user_id) % shard_count              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**åˆ†å¸ƒå¼äº‹åŠ¡ - Saga æ¨¡å¼**:
```java
// åˆ›å»ºè®¢å• Saga
public class CreateOrderSaga {
    
    @StartSaga
    public SagaDefinition<CreateOrderSagaState> buildSaga() {
        return step()
            .invokeParticipant(this::reserveInventory)
            .onReply(InventoryReserved.class, this::handleInventoryReserved)
            .onReply(InventoryInsufficient.class, this::handleInventoryInsufficient)
            .step()
            .invokeParticipant(this::processPayment)
            .onReply(PaymentProcessed.class, this::handlePaymentProcessed)
            .onReply(PaymentFailed.class, this::handlePaymentFailed)
            .step()
            .invokeParticipant(this::createOrder)
            .build();
    }
    
    // è¡¥å¿æ“ä½œ
    private CommandWithDestination reserveInventory(CreateOrderSagaState state) {
        return send(new ReserveInventoryCommand(state.getProductId(), state.getQuantity()))
            .to("inventory-service");
    }
    
    private CommandWithDestination releaseInventory(CreateOrderSagaState state) {
        return send(new ReleaseInventoryCommand(state.getProductId(), state.getQuantity()))
            .to("inventory-service");
    }
}
```

**å…¨å±€ ID ç”Ÿæˆ**:
```java
// Twitter Snowflake ç®—æ³•
public class SnowflakeIdGenerator {
    private final long workerId;
    private final long datacenterId;
    private long sequence = 0L;
    private long lastTimestamp = -1L;
    
    public synchronized long nextId() {
        long timestamp = timeGen();
        
        if (timestamp < lastTimestamp) {
            throw new RuntimeException("Clock moved backwards");
        }
        
        if (lastTimestamp == timestamp) {
            sequence = (sequence + 1) & sequenceMask;
            if (sequence == 0) {
                timestamp = tilNextMillis(lastTimestamp);
            }
        } else {
            sequence = 0L;
        }
        
        lastTimestamp = timestamp;
        
        return ((timestamp - twepoch) << timestampLeftShift)
            | (datacenterId << datacenterIdShift)
            | (workerId << workerIdShift)
            | sequence;
    }
}
```

### æ¡ˆä¾‹ 2: ç°ä»£åŒ–æ•°æ®æ¹–æ¶æ„

**Lakehouse æ¶æ„**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Lakehouse æ¶æ„                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  æ•°æ®æ‘„å–å±‚                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Kafka/Kinesisâ”‚  â”‚  Fivetran   â”‚  â”‚  Airbyte    â”‚         â”‚
â”‚  â”‚  (æµæ•°æ®)    â”‚  â”‚  (SaaSåŒæ­¥) â”‚  â”‚  (å¼€æºé›†æˆ) â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚         â”‚                  â”‚                  â”‚              â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â”‚                            â–¼                                â”‚
â”‚  å­˜å‚¨å±‚ (å¯¹è±¡å­˜å‚¨)                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚              Delta Lake / Apache Iceberg             â”‚   â”‚
â”‚  â”‚         (å¼€æ”¾è¡¨æ ¼å¼ï¼ŒACIDäº‹åŠ¡ï¼Œç‰ˆæœ¬æ§åˆ¶)               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â”‚                                â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚         â–¼                  â–¼                  â–¼             â”‚
â”‚  è®¡ç®—å±‚                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  Spark      â”‚  â”‚  Dremio     â”‚  â”‚  Trino      â”‚         â”‚
â”‚  â”‚  (æ‰¹å¤„ç†)   â”‚  â”‚  (SQLæŸ¥è¯¢)  â”‚  â”‚  (å³å¸­æŸ¥è¯¢) â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â”‚                            â”‚                                â”‚
â”‚                            â–¼                                â”‚
â”‚  æ¶ˆè´¹å±‚                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚
â”‚  â”‚  BI å·¥å…·    â”‚  â”‚  ML å¹³å°    â”‚  â”‚  æ•°æ®åº”ç”¨   â”‚         â”‚
â”‚  â”‚ (Tableau)  â”‚  â”‚ (MLflow)   â”‚  â”‚ (å†…éƒ¨åº”ç”¨)  â”‚         â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**ETL vs ELT**:
| ç‰¹æ€§ | ETL | ELT |
|------|-----|-----|
| è½¬æ¢ä½ç½® | åŠ è½½å‰ | åŠ è½½å |
| å­˜å‚¨æˆæœ¬ | è¾ƒä½ï¼ˆå·²æ¸…æ´—ï¼‰ | è¾ƒé«˜ï¼ˆåŸå§‹æ•°æ®ï¼‰ |
| çµæ´»æ€§ | è¾ƒä½ | è¾ƒé«˜ |
| é€‚ç”¨åœºæ™¯ | ç»“æ„åŒ–æ•°æ®ï¼Œå›ºå®šéœ€æ±‚ | å¤§æ•°æ®ï¼Œæ¢ç´¢æ€§åˆ†æ |
| å·¥å…·ç¤ºä¾‹ | Informatica, Talend | dbt, Spark SQL |

### æ¡ˆä¾‹ 3: RAG å‘é‡æ£€ç´¢æ¶æ„

**å‘é‡æ£€ç´¢æµç¨‹**:
```python
# æ–‡æœ¬å‘é‡åŒ–ä¸å­˜å‚¨
from sentence_transformers import SentenceTransformer
import pinecone

# åˆå§‹åŒ–æ¨¡å‹å’Œå‘é‡æ•°æ®åº“
model = SentenceTransformer('all-MiniLM-L6-v2')
pinecone.init(api_key="your-api-key", environment="us-west1-gcp")
index = pinecone.Index("knowledge-base")

# æ–‡æ¡£å‘é‡åŒ–
documents = [
    "Machine learning is a subset of AI",
    "Deep learning uses neural networks",
    "Python is popular for data science"
]

embeddings = model.encode(documents)

# å­˜å‚¨åˆ°å‘é‡æ•°æ®åº“
vectors = [(f"doc_{i}", embedding.tolist(), {"text": doc}) 
           for i, (embedding, doc) in enumerate(zip(embeddings, documents))]
index.upsert(vectors)

# ç›¸ä¼¼æ€§æœç´¢
query = "What is artificial intelligence?"
query_embedding = model.encode([query])

results = index.query(
    vector=query_embedding[0].tolist(),
    top_k=3,
    include_metadata=True
)

for match in results['matches']:
    print(f"Score: {match['score']:.4f}, Text: {match['metadata']['text']}")
```

**æ··åˆæœç´¢ç­–ç•¥**:
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æ··åˆæœç´¢æ¶æ„                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                             â”‚
â”‚  æŸ¥è¯¢: "æœºå™¨å­¦ä¹ ç®—æ³•åœ¨æ¨èç³»ç»Ÿä¸­çš„åº”ç”¨"                         â”‚
â”‚                                                             â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                         â”‚
â”‚         â”‚      æŸ¥è¯¢åˆ†æ            â”‚                         â”‚
â”‚         â”‚  - æå–å…³é”®è¯            â”‚                         â”‚
â”‚         â”‚  - ç”Ÿæˆ Embedding        â”‚                         â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                         â”‚
â”‚                     â”‚                                       â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                          â”‚
â”‚         â–¼                       â–¼                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚  å…³é”®è¯æœç´¢  â”‚        â”‚  å‘é‡æœç´¢    â”‚                    â”‚
â”‚  â”‚  (BM25)     â”‚        â”‚  (Cosine)   â”‚                    â”‚
â”‚  â”‚  Score: 0.8 â”‚        â”‚  Score: 0.85â”‚                    â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚         â”‚                       â”‚                          â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                          â”‚
â”‚                     â–¼                                       â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚         â”‚     RRF èåˆ         â”‚                            â”‚
â”‚         â”‚  (Reciprocal Rank)  â”‚                            â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                    â–¼                                        â”‚
â”‚         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                            â”‚
â”‚         â”‚     é‡æ’åº (Rerank)  â”‚                            â”‚
â”‚         â”‚  (Cross-encoder)    â”‚                            â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                            â”‚
â”‚                    â–¼                                        â”‚
â”‚         æœ€ç»ˆæœç´¢ç»“æœ                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ”— çŸ¥è¯†å…³è”å›¾è°±

```mermaid
graph TB
    B[B03 Data Storage]
    
    %% åŒå±‚å…³è”
    B -->|å­˜å‚¨æ¶æ„| B01[A03/B01 Arch Styles<br/>æ¶æ„é£æ ¼]
    B -->|æ•°æ®æ¨¡å¼| B02[A03/B02 Design Patterns<br/>è®¾è®¡æ¨¡å¼]
    B -->|æ•°æ®é€šä¿¡| B04[A03/B04 Middleware<br/>ä¸­é—´ä»¶]
    
    %% ä¸“é¡¹å…³è”
    B --> C01[C01 Database Sharding]
    B --> C02[C02 Data Lakes vs Warehouses]
    B --> C03[C03 Vector Databases]
    
    C01 -->|åˆ†ç‰‡æ•°æ®æ¹–| C02
    C02 -->|æ¹–ä»“å‘é‡æ‰©å±•| C03
    
    %% è·¨å±‚å…³è”
    B -.->|å­˜å‚¨åŸºç¡€è®¾æ–½| A01[A01 Infrastructure<br/>åŸºç¡€è®¾æ–½]
    B -.->|æ•°æ®å®‰å…¨| A04[A04 Security Quality<br/>å®‰å…¨è´¨é‡]
    B -.->|AIæ•°æ®| A05[A05 Spec Expertise<br/>ä¸“é¡¹æŠ€æœ¯]
```

## ğŸ“– å­¦ä¹ èµ„æº

### æ¨èä¹¦ç±

| ä¹¦å | ä½œè€… | è¯´æ˜ |
|------|------|------|
| ã€ŠDesigning Data-Intensive Applicationsã€‹ | Martin Kleppmann | æ•°æ®ç³»ç»Ÿç»å…¸ |
| ã€ŠDatabase Internalsã€‹ | Alex Petrov | æ•°æ®åº“åŸç† |
| ã€ŠThe Data Warehouse Toolkitã€‹ | Ralph Kimball | æ•°æ®ä»“åº“æƒå¨ |
| ã€ŠBuilding Machine Learning Pipelinesã€‹ | Hannes Hapke | ML æ•°æ®ç®¡é“ |

### åœ¨çº¿èµ„æº

| èµ„æº | é“¾æ¥ | è¯´æ˜ |
|------|------|------|
| DB-Engines | https://db-engines.com | æ•°æ®åº“æ’å |
| Martin Kleppmann åšå®¢ | https://martin.kleppmann.com | æ•°æ®ç³»ç»Ÿæ·±åº¦æ–‡ç«  |
| Databricks åšå®¢ | https://www.databricks.com/blog | Lakehouse æŠ€æœ¯ |
| Pinecone å­¦ä¹  | https://www.pinecone.io/learn | å‘é‡æœç´¢ |

### å¼€æºé¡¹ç›®

| é¡¹ç›® | GitHub | è¯´æ˜ |
|------|--------|------|
| Apache Kafka | https://github.com/apache/kafka | æµå¤„ç†å¹³å° |
| Apache Spark | https://github.com/apache/spark | å¤§æ•°æ®è®¡ç®— |
| Delta Lake | https://github.com/delta-io/delta | å¼€æ”¾è¡¨æ ¼å¼ |
| Apache Iceberg | https://github.com/apache/iceberg | å¼€æ”¾è¡¨æ ¼å¼ |
| Milvus | https://github.com/milvus-io/milvus | å‘é‡æ•°æ®åº“ |

## ğŸ”„ ç»´æŠ¤è¯´æ˜

- **å†…å®¹å®¡æŸ¥**: æ¯å­£åº¦æ›´æ–°æ•°æ®åº“ç‰ˆæœ¬å’Œæ€§èƒ½åŸºå‡†
- **æ›´æ–°æœºåˆ¶**: è·Ÿè¸ªæ•°æ®åº“æŠ€æœ¯è¶‹åŠ¿å’Œæ–°å…´æ•°æ®åº“
- **è´¨é‡æ ‡å‡†**: ç¡®ä¿æ¶æ„å»ºè®®åŸºäºç”Ÿäº§ç¯å¢ƒéªŒè¯
- **è´¡çŒ®æ–¹å¼**: æ¬¢è¿æäº¤æ•°æ®åº“æ¶æ„æ¡ˆä¾‹å’Œæ€§èƒ½ä¼˜åŒ–ç»éªŒ
