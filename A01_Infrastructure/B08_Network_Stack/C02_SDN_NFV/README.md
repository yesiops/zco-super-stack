# C02 SDN/NFV

**æ‰€å±å­é¢†åŸŸ**: [B08_Network_Stack](../README.md)  
**åˆ›å»ºæ—¥æœŸ**: 2026-01-30  
**æœ€åæ›´æ–°**: 2026-01-30

## ğŸ“‹ ä¸»é¢˜å®šä½

è½¯ä»¶å®šä¹‰ç½‘ç»œï¼ˆSDN, Software Defined Networkingï¼‰å’Œç½‘ç»œåŠŸèƒ½è™šæ‹ŸåŒ–ï¼ˆNFV, Network Functions Virtualizationï¼‰æ˜¯ç½‘ç»œé¢†åŸŸæœ€å…·å˜é©æ€§çš„ä¸¤å¤§æŠ€æœ¯è¶‹åŠ¿ã€‚SDNé€šè¿‡æ§åˆ¶å¹³é¢ä¸æ•°æ®å¹³é¢åˆ†ç¦»ï¼Œå®ç°äº†ç½‘ç»œçš„é›†ä¸­åŒ–ç¼–ç¨‹æ§åˆ¶ï¼›NFVåˆ™å°†ä¼ ç»Ÿä¸“ç”¨ç½‘ç»œè®¾å¤‡åŠŸèƒ½ï¼ˆå¦‚é˜²ç«å¢™ã€è´Ÿè½½å‡è¡¡å™¨ï¼‰è™šæ‹ŸåŒ–ä¸ºè½¯ä»¶åº”ç”¨ï¼Œè¿è¡Œåœ¨é€šç”¨æœåŠ¡å™¨ä¸Šã€‚

è¿™ä¸¤é¡¹æŠ€æœ¯å…±åŒæ¨åŠ¨äº†ç½‘ç»œæ¶æ„çš„ç°ä»£åŒ–è½¬å‹ï¼šä»ç¡¬ä»¶ä¸ºä¸­å¿ƒè½¬å‘è½¯ä»¶ä¸ºä¸­å¿ƒï¼Œä»é™æ€é…ç½®è½¬å‘åŠ¨æ€ç¼–æ’ï¼Œä»å°é—­ç³»ç»Ÿè½¬å‘å¼€æ”¾ç”Ÿæ€ã€‚åœ¨äº‘è®¡ç®—ã€5Gã€è¾¹ç¼˜è®¡ç®—ç­‰åœºæ™¯ä¸­ï¼ŒSDN/NFVå·²æˆä¸ºæ„å»ºçµæ´»ã€å¯æ‰©å±•ç½‘ç»œåŸºç¡€è®¾æ–½çš„æ ¸å¿ƒæŠ€æœ¯ã€‚

æœ¬ä¸“é¢˜ç³»ç»Ÿæ¢è®¨SDN/NFVçš„æ¶æ„åŸç†ã€å…³é”®æŠ€æœ¯ã€å¼€æºå®ç°ä»¥åŠåœ¨ç”Ÿäº§ç¯å¢ƒä¸­çš„éƒ¨ç½²å®è·µã€‚

## ğŸ¯ æ ¸å¿ƒæ¦‚å¿µ

### SDNåŸºæœ¬å®šä¹‰

**è½¯ä»¶å®šä¹‰ç½‘ç»œï¼ˆSDNï¼‰**: ä¸€ç§ç½‘ç»œæ¶æ„æ–¹æ³•ï¼Œé€šè¿‡å°†ç½‘ç»œè®¾å¤‡çš„æ§åˆ¶å¹³é¢ä¸æ•°æ®å¹³é¢åˆ†ç¦»ï¼Œå¹¶å°†æ§åˆ¶é€»è¾‘é›†ä¸­åˆ°è½¯ä»¶æ§åˆ¶å™¨ä¸­ï¼Œå®ç°ç½‘ç»œçš„é›†ä¸­ç¼–ç¨‹å’ŒåŠ¨æ€ç®¡ç†ã€‚

**å…³é”®ç‰¹å¾**:
- **æ§åˆ¶ä¸è½¬å‘åˆ†ç¦»**: æ§åˆ¶é€»è¾‘é›†ä¸­åœ¨æ§åˆ¶å™¨ï¼Œè½¬å‘è®¾å¤‡åªè´Ÿè´£æ•°æ®åŒ…å¤„ç†
- **é›†ä¸­å¼æ§åˆ¶**: å…¨å±€ç½‘ç»œè§†å›¾ï¼Œç»Ÿä¸€ç­–ç•¥éƒ¨ç½²
- **å¯ç¼–ç¨‹æ¥å£**: é€šè¿‡åŒ—å‘APIå®ç°åº”ç”¨ä¸ç½‘ç»œäº¤äº’
- **å¼€æ”¾æ ‡å‡†**: ä½¿ç”¨OpenFlowç­‰å¼€æ”¾åè®®

### NFVåŸºæœ¬å®šä¹‰

**ç½‘ç»œåŠŸèƒ½è™šæ‹ŸåŒ–ï¼ˆNFVï¼‰**: ä½¿ç”¨è™šæ‹ŸåŒ–æŠ€æœ¯å°†ç½‘ç»œåŠŸèƒ½ï¼ˆå¦‚è·¯ç”±ã€é˜²ç«å¢™ã€NATï¼‰ä»ä¸“ç”¨ç¡¬ä»¶è®¾å¤‡è¿ç§»åˆ°é€šç”¨æœåŠ¡å™¨ä¸Šè¿è¡Œçš„è½¯ä»¶å®ç°ã€‚

**NFVæ¶æ„ç»„ä»¶**:
- **VNFï¼ˆVirtualized Network Functionï¼‰**: è™šæ‹Ÿç½‘ç»œåŠŸèƒ½å®ä¾‹
- **NFVIï¼ˆNFV Infrastructureï¼‰**: è™šæ‹ŸåŒ–åŸºç¡€è®¾æ–½ï¼ˆè®¡ç®—ã€å­˜å‚¨ã€ç½‘ç»œï¼‰
- **MANOï¼ˆManagement and Orchestrationï¼‰**: ç®¡ç†å’Œç¼–æ’ç³»ç»Ÿ

### SDNæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           SDNæ¶æ„å…¨æ™¯                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                      åº”ç”¨å±‚ (Application Layer)                   â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚   â”‚
â”‚  â”‚  â”‚ ç½‘ç»œç®¡ç†  â”‚  â”‚ æµé‡å·¥ç¨‹  â”‚  â”‚ å®‰å…¨ç­–ç•¥  â”‚  â”‚ ä¸šåŠ¡ç¼–æ’  â”‚        â”‚   â”‚
â”‚  â”‚  â”‚   ç³»ç»Ÿ    â”‚  â”‚   åº”ç”¨    â”‚  â”‚   ç®¡ç†    â”‚  â”‚   å¹³å°    â”‚        â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â”‚   â”‚
â”‚  â”‚       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚   â”‚
â”‚  â”‚                         â”‚                                      â”‚   â”‚
â”‚  â”‚                    åŒ—å‘æ¥å£ (Northbound API)                     â”‚   â”‚
â”‚  â”‚              RESTful API / RESTCONF / gNMI                      â”‚   â”‚
â”‚  â”‚                         â”‚                                      â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    æ§åˆ¶å±‚ (Control Layer)                        â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚                  SDN Controller                          â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                          â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  æ‹“æ‰‘å‘ç°   â”‚  â”‚  è·¯å¾„è®¡ç®—   â”‚  â”‚   ç­–ç•¥å¼•æ“      â”‚  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  (LLDP)     â”‚  â”‚  (Dijkstra) â”‚  â”‚                 â”‚  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                          â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚  æµè¡¨ç®¡ç†   â”‚  â”‚  æµé‡ç»Ÿè®¡   â”‚  â”‚   åŒ—å‘APIæœåŠ¡   â”‚  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â”‚             â”‚  â”‚  (sFlow)    â”‚  â”‚                 â”‚  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚   â”‚   â”‚
â”‚  â”‚  â”‚                                                          â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  ä¸»æµæ§åˆ¶å™¨:                                                     â”‚   â”‚
â”‚  â”‚  â€¢ ONOS (Open Network Operating System) - è¿è¥å•†çº§              â”‚   â”‚
â”‚  â”‚  â€¢ OpenDaylight (ODL) - ä¼ä¸šçº§ï¼Œæ¨¡å—åŒ–è®¾è®¡                       â”‚   â”‚
â”‚  â”‚  â€¢ Ryu - Pythonç¼–å†™ï¼Œç®€å•æ˜“ç”¨                                   â”‚   â”‚
â”‚  â”‚  â€¢ Floodlight - Javaï¼Œé«˜æ€§èƒ½                                   â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    å—å‘æ¥å£ (Southbound Interface)                â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  OpenFlow / P4Runtime / NETCONF / OVSDB / BGP-LS / gRPC         â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â–¼                                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                    åŸºç¡€è®¾æ–½å±‚ (Infrastructure Layer)              â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”          â”‚   â”‚
â”‚  â”‚  â”‚   OpenFlow   â”‚  â”‚     ä¼ ç»Ÿ     â”‚  â”‚    æ··åˆ      â”‚          â”‚   â”‚
â”‚  â”‚  â”‚   äº¤æ¢æœº     â”‚  â”‚    è·¯ç”±å™¨    â”‚  â”‚    è®¾å¤‡      â”‚          â”‚   â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚          â”‚   â”‚
â”‚  â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚          â”‚   â”‚
â”‚  â”‚  â”‚ â”‚ Flow Tableâ”‚ â”‚  â”‚ â”‚   CLI    â”‚ â”‚  â”‚ â”‚ æµè¡¨+CLI â”‚ â”‚          â”‚   â”‚
â”‚  â”‚  â”‚ â”‚ (å¤šçº§)   â”‚ â”‚  â”‚ â”‚   SNMP   â”‚ â”‚  â”‚ â”‚         â”‚ â”‚          â”‚   â”‚
â”‚  â”‚  â”‚ â”‚ åŒ¹é…+åŠ¨ä½œâ”‚ â”‚  â”‚ â”‚   NETCONFâ”‚ â”‚  â”‚ â”‚         â”‚ â”‚          â”‚   â”‚
â”‚  â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚  â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚          â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚   â”‚
â”‚  â”‚                                                                â”‚   â”‚
â”‚  â”‚  è™šæ‹Ÿäº¤æ¢æœº: OVS (Open vSwitch) - åŸºäºæµè¡¨çš„å¤šå±‚è™šæ‹Ÿäº¤æ¢æœº        â”‚   â”‚
â”‚  â”‚                                                                â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### NFVæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           NFVæ¶æ„ (ETSIæ ‡å‡†)                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                  OSS/BSS (è¿è¥æ”¯æ’‘ç³»ç»Ÿ)                          â”‚   â”‚
â”‚  â”‚             æœåŠ¡é—¨æˆ· / è®¡è´¹ / å®¢æˆ·ç®¡ç† / æ•…éšœç®¡ç†                  â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â†‘â†“ (API)                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     NFV MANO (ç®¡ç†å’Œç¼–æ’)                        â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚   â”‚
â”‚  â”‚  â”‚     NFVO        â”‚  â”‚      VNFM       â”‚  â”‚      VIM        â”‚ â”‚   â”‚
â”‚  â”‚  â”‚  (ç¼–æ’å™¨)        â”‚  â”‚  (VNFç®¡ç†å™¨)    â”‚  â”‚  (è™šæ‹ŸåŸºç¡€è®¾æ–½)  â”‚ â”‚   â”‚
â”‚  â”‚  â”‚                 â”‚  â”‚                 â”‚  â”‚                 â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ NSç”Ÿå‘½å‘¨æœŸ   â”‚  â”‚ â€¢ VNFå®ä¾‹åŒ–    â”‚  â”‚ â€¢ èµ„æºç®¡ç†      â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ å…¨å±€èµ„æºç¼–æ’ â”‚  â”‚ â€¢ é…ç½®/ç›‘æ§    â”‚  â”‚ â€¢ VMç®¡ç†        â”‚ â”‚   â”‚
â”‚  â”‚  â”‚ â€¢ ç­–ç•¥ç®¡ç†     â”‚  â”‚ â€¢ æ‰©ç¼©å®¹/ healedâ”‚  â”‚ â€¢ ç½‘ç»œ/å­˜å‚¨     â”‚ â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚   â”‚
â”‚  â”‚           â†‘                   â†‘                   â†‘            â”‚   â”‚
â”‚  â”‚           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚   â”‚
â”‚  â”‚                        Or-Vi / Or-Vnfm / Ve-Vnfm              â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â†‘â†“ (API)                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                     NFVI (NFVåŸºç¡€è®¾æ–½)                          â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚                  è™šæ‹ŸåŒ–å±‚ (Hypervisor)                   â”‚   â”‚   â”‚
â”‚  â”‚  â”‚        KVM / VMware vSphere / Microsoft Hyper-V         â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â”‚                              â†“                                  â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚   â”‚
â”‚  â”‚  â”‚            ç¡¬ä»¶èµ„æº (COTSæœåŠ¡å™¨)                         â”‚   â”‚   â”‚
â”‚  â”‚  â”‚   è®¡ç®— (x86/ARM)  +  å­˜å‚¨ (SSD/HDD)  +  ç½‘ç»œ (NIC)       â”‚   â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                              â†‘â†“ (API)                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚                   VNFs (è™šæ‹Ÿç½‘ç»œåŠŸèƒ½)                            â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”â”‚   â”‚
â”‚  â”‚  â”‚   vFW   â”‚  â”‚   vLB   â”‚  â”‚   vRouterâ”‚  â”‚   vEPC  â”‚  â”‚  vIMS  â”‚â”‚   â”‚
â”‚  â”‚  â”‚ è™šæ‹Ÿé˜²ç«å¢™â”‚  â”‚ è™šæ‹Ÿè´Ÿè½½ â”‚  â”‚ è™šæ‹Ÿè·¯ç”±å™¨â”‚  â”‚ è™šæ‹Ÿæ ¸å¿ƒç½‘â”‚  â”‚è™šæ‹ŸIMSâ”‚â”‚   â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ å‡è¡¡å™¨   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚   â”‚
â”‚  â”‚               â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                       â”‚   â”‚
â”‚  â”‚                                                                 â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### OpenFlowåè®®

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                       OpenFlowåè®®è¯¦è§£                                   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚  OpenFlowç‰ˆæœ¬æ¼”è¿›:                                                       â”‚
â”‚  v1.0 (2009) â†’ v1.3 (2012) â†’ v1.4 â†’ v1.5 â†’ v1.6                       â”‚
â”‚                                                                         â”‚
â”‚  æµè¡¨ç»“æ„ (Flow Table):                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚  åŒ¹é…å­—æ®µ (Match Fields)          â”‚  ä¼˜å…ˆçº§ â”‚ è®¡æ•°å™¨ â”‚ æŒ‡ä»¤ â”‚ è¶…æ—¶â”‚   â”‚
â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤   â”‚
â”‚  â”‚  â€¢ å…¥ç«¯å£ (In Port)               â”‚         â”‚        â”‚      â”‚     â”‚   â”‚
â”‚  â”‚  â€¢ æºMAC (Ether SRC)              â”‚         â”‚        â”‚      â”‚     â”‚   â”‚
â”‚  â”‚  â€¢ ç›®çš„MAC (Ether DST)            â”‚  é«˜ä¼˜å…ˆçº§â”‚ åŒ…/å­—èŠ‚â”‚ åŠ¨ä½œ â”‚ ç¡¬/è½¯â”‚   â”‚
â”‚  â”‚  â€¢ VLAN ID                        â”‚  å…ˆåŒ¹é… â”‚  è®¡æ•°  â”‚ é›†åˆ â”‚ è¶…æ—¶â”‚   â”‚
â”‚  â”‚  â€¢ EtherType (0x0800=IP)          â”‚         â”‚        â”‚      â”‚     â”‚   â”‚
â”‚  â”‚  â€¢ æºIP / ç›®çš„IP                  â”‚         â”‚        â”‚      â”‚     â”‚   â”‚
â”‚  â”‚  â€¢ IPåè®® (TCP=6, UDP=17)         â”‚         â”‚        â”‚      â”‚     â”‚   â”‚
â”‚  â”‚  â€¢ TCP/UDP æºç«¯å£/ç›®çš„ç«¯å£         â”‚         â”‚        â”‚      â”‚     â”‚   â”‚
â”‚  â”‚  â€¢ MPLSæ ‡ç­¾ / IPv6æ‰©å±•ç­‰          â”‚         â”‚        â”‚      â”‚     â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                                                                         â”‚
â”‚  åŠ¨ä½œ (Actions):                                                         â”‚
â”‚  â€¢ OUTPUT:port - è½¬å‘åˆ°æŒ‡å®šç«¯å£                                          â”‚
â”‚  â€¢ SET_FIELD:field:value - ä¿®æ”¹å­—æ®µ                                      â”‚
â”‚  â€¢ PUSH_VLAN / POP_VLAN - VLANæ“ä½œ                                       â”‚
â”‚  â€¢ PUSH_MPLS / POP_MPLS - MPLSæ“ä½œ                                       â”‚
â”‚  â€¢ GROUP:group_id - è½¬åˆ°ç»„è¡¨                                             â”‚
â”‚  â€¢ DROP - ä¸¢å¼ƒåŒ…                                                         â”‚
â”‚                                                                         â”‚
â”‚  å¤šæµè¡¨æµæ°´çº¿ (v1.1+):                                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”                  â”‚
â”‚  â”‚ Table 0â”‚â”€â”€â”€â†’â”‚ Table 1â”‚â”€â”€â”€â†’â”‚ Table 2â”‚â”€â”€â”€â†’â”‚  è¾“å‡º  â”‚                  â”‚
â”‚  â”‚ å…¥å£   â”‚    â”‚ L2å¤„ç† â”‚    â”‚ L3è·¯ç”± â”‚    â”‚        â”‚                  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜                  â”‚
â”‚       â†‘ Goto-TableæŒ‡ä»¤ä¼ é€’å¤„ç†                                           â”‚
â”‚                                                                         â”‚
â”‚  ç»„è¡¨ (Group Table) - å¤šè·¯å¾„/è´Ÿè½½å‡è¡¡:                                     â”‚
â”‚  â€¢ ALL: å‘é€åˆ°æ‰€æœ‰æ¡¶                                                      â”‚
â”‚  â€¢ SELECT: åŸºäºå“ˆå¸Œé€‰æ‹©ä¸€ä¸ªæ¡¶                                              â”‚
â”‚  â€¢ INDIRECT: å•ä¸€è·¯å¾„ï¼ˆå®¹é”™ï¼‰                                              â”‚
â”‚  â€¢ FAST_FAILOVER: ä¸»å¤‡åˆ‡æ¢                                                â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## ğŸ› ï¸ æŠ€æœ¯å®è·µ

### Open vSwitché…ç½®

**1. OVSåŸºç¡€é…ç½®è„šæœ¬**

```bash
#!/bin/bash
# Open vSwitché…ç½®è„šæœ¬
# æ¼”ç¤ºSDNåŸºç¡€ç¯å¢ƒæ­å»º

set -e

BRIDGE_NAME=${BRIDGE_NAME:-"br0"}
CONTROLLER_IP=${CONTROLLER_IP:-""}
ACTION=${1:-"setup"}

echo "=== Open vSwitché…ç½®å·¥å…· ==="
echo "ç½‘æ¡¥: $BRIDGE_NAME"
echo ""

# æ£€æŸ¥OVSæ˜¯å¦å®‰è£…
check_ovs() {
    if ! command -v ovs-vsctl &> /dev/null; then
        echo "é”™è¯¯: Open vSwitchæœªå®‰è£…"
        echo "å®‰è£…: apt-get install openvswitch-switch"
        exit 1
    fi
}

# åˆ›å»ºåŸºç¡€ç½‘æ¡¥
setup_bridge() {
    echo "=== åˆ›å»ºç½‘æ¡¥ ==="
    
    # åˆ é™¤å·²å­˜åœ¨çš„ç½‘æ¡¥
    ovs-vsctl --if-exists del-br $BRIDGE_NAME
    
    # åˆ›å»ºç½‘æ¡¥
    ovs-vsctl add-br $BRIDGE_NAME
    
    # è®¾ç½®åè®®ç‰ˆæœ¬ (æ”¯æŒOpenFlow 1.0, 1.3, 1.4, 1.5)
    ovs-vsctl set bridge $BRIDGE_NAME protocols=OpenFlow10,OpenFlow13,OpenFlow14,OpenFlow15
    
    # è®¾ç½®æ§åˆ¶å™¨ (å¦‚æœæŒ‡å®š)
    if [ -n "$CONTROLLER_IP" ]; then
        ovs-vsctl set-controller $BRIDGE_NAME tcp:$CONTROLLER_IP:6653
        echo "æ§åˆ¶å™¨: tcp:$CONTROLLER_IP:6653"
    else
        # è®¾ç½®ä¸ºç‹¬ç«‹æ¨¡å¼
        ovs-vsctl del-controller $BRIDGE_NAME
        echo "æ¨¡å¼: ç‹¬ç«‹ (æ— æ§åˆ¶å™¨)"
    fi
    
    # å¯ç”¨STP (é˜²æ­¢ç¯è·¯)
    ovs-vsctl set bridge $BRIDGE_NAME stp_enable=true
    
    echo "ç½‘æ¡¥ $BRIDGE_NAME åˆ›å»ºæˆåŠŸ"
}

# æ·»åŠ ç‰©ç†ç«¯å£
add_port() {
    local port=$1
    echo "æ·»åŠ ç«¯å£: $port"
    
    # å°†ç‰©ç†æ¥å£æ·»åŠ åˆ°ç½‘æ¡¥
    ovs-vsctl add-port $BRIDGE_NAME $port
    
    # é…ç½®ç«¯å£ (å¯é€‰)
    # ovs-vsctl set interface $port type=internal
}

# åˆ›å»ºå†…éƒ¨ç«¯å£ (ç”¨äºVM/å®¹å™¨è¿æ¥)
add_internal_port() {
    local port=$1
    local ip=$2
    
    echo "åˆ›å»ºå†…éƒ¨ç«¯å£: $port (IP: $ip)"
    
    ovs-vsctl add-port $BRIDGE_NAME $port -- set interface $port type=internal
    
    if [ -n "$ip" ]; then
        ip addr add $ip dev $port
        ip link set $port up
    fi
}

# é…ç½®VLAN
configure_vlan() {
    local port=$1
    local vlan=$2
    
    echo "é…ç½®VLAN: $port -> VLAN $vlan"
    
    # Accessç«¯å£ (untagged)
    ovs-vsctl set port $port tag=$vlan
}

# é…ç½®éš§é“ (VXLAN/GRE)
configure_tunnel() {
    local name=$1
    local type=$2  # vxlan or gre
    local remote_ip=$3
    local key=${4:-0}
    
    echo "åˆ›å»ºéš§é“: $name (ç±»å‹: $type, è¿œç«¯: $remote_ip)"
    
    if [ "$type" = "vxlan" ]; then
        ovs-vsctl add-port $BRIDGE_NAME $name -- \
            set interface $name type=vxlan options:remote_ip=$remote_ip \
            options:key=$key
    elif [ "$type" = "gre" ]; then
        ovs-vsctl add-port $BRIDGE_NAME $name -- \
            set interface $name type=gre options:remote_ip=$remote_ip \
            options:key=$key
    fi
}

# æµè¡¨æ“ä½œ
add_flow() {
    local match=$1
    local action=$2
    
    echo "æ·»åŠ æµè¡¨: $match -> $action"
    ovs-ofctl add-flow $BRIDGE_NAME "$match,actions=$action"
}

# æ˜¾ç¤ºçŠ¶æ€
show_status() {
    echo ""
    echo "=== OVSçŠ¶æ€ ==="
    
    echo ""
    echo "ç½‘æ¡¥åˆ—è¡¨:"
    ovs-vsctl list-br
    
    echo ""
    echo "ç½‘æ¡¥ $BRIDGE_NAME è¯¦æƒ…:"
    ovs-vsctl show $BRIDGE_NAME
    
    echo ""
    echo "æµè¡¨:"
    ovs-ofctl dump-flows $BRIDGE_NAME 2>/dev/null || echo "æ— æµè¡¨"
    
    echo ""
    echo "ç«¯å£ç»Ÿè®¡:"
    ovs-ofctl dump-ports $BRIDGE_NAME 2>/dev/null || echo "æ— ç»Ÿè®¡"
}

# æ¸…ç©ºæµè¡¨
flush_flows() {
    echo "æ¸…ç©ºç½‘æ¡¥ $BRIDGE_NAME çš„æµè¡¨"
    ovs-ofctl del-flows $BRIDGE_NAME
}

# ä¸»é€»è¾‘
case "$ACTION" in
    setup)
        check_ovs
        setup_bridge
        show_status
        ;;
    add-port)
        check_ovs
        add_port $2
        ;;
    add-internal)
        check_ovs
        add_internal_port $2 $3
        ;;
    add-flow)
        check_ovs
        add_flow "$2" "$3"
        ;;
    tunnel)
        check_ovs
        configure_tunnel $2 $3 $4 $5
        ;;
    status)
        show_status
        ;;
    flush)
        flush_flows
        ;;
    *)
        echo "ç”¨æ³•: $0 <action> [options]"
        echo ""
        echo "Actions:"
        echo "  setup                 - åˆ›å»ºç½‘æ¡¥"
        echo "  add-port <iface>      - æ·»åŠ ç‰©ç†ç«¯å£"
        echo "  add-internal <name> <ip> - åˆ›å»ºå†…éƒ¨ç«¯å£"
        echo "  add-flow <match> <action> - æ·»åŠ æµè¡¨"
        echo "  tunnel <name> <vxlan|gre> <remote_ip> [key] - åˆ›å»ºéš§é“"
        echo "  status                - æ˜¾ç¤ºçŠ¶æ€"
        echo "  flush                 - æ¸…ç©ºæµè¡¨"
        ;;
esac
```

### SDNæ§åˆ¶å™¨åº”ç”¨

**2. Ryu SDNæ§åˆ¶å™¨åº”ç”¨ï¼ˆPythonï¼‰**

```python
#!/usr/bin/env python3
"""
Ryu SDNæ§åˆ¶å™¨åº”ç”¨ç¤ºä¾‹
å®ç°ç®€å•çš„L2äº¤æ¢å’Œå­¦ä¹ åŠŸèƒ½
"""

from ryu.base import app_manager
from ryu.controller import ofp_event
from ryu.controller.handler import CONFIG_DISPATCHER, MAIN_DISPATCHER
from ryu.controller.handler import set_ev_cls
from ryu.ofproto import ofproto_v1_3
from ryu.lib.packet import packet
from ryu.lib.packet import ethernet
from ryu.lib.packet import ether_types


class SimpleSwitch(app_manager.RyuApp):
    """
    ç®€å•L2äº¤æ¢æœºåº”ç”¨
    å®ç°MACåœ°å€å­¦ä¹ å’ŒäºŒå±‚è½¬å‘
    """
    OFP_VERSIONS = [ofproto_v1_3.OFP_VERSION]

    def __init__(self, *args, **kwargs):
        super(SimpleSwitch, self).__init__(*args, **kwargs)
        # MACåœ°å€è¡¨: {dpid: {mac: port}}
        self.mac_to_port = {}

    @set_ev_cls(ofp_event.EventOFPSwitchFeatures, CONFIG_DISPATCHER)
    def switch_features_handler(self, ev):
        """
        å¤„ç†äº¤æ¢æœºè¿æ¥äº‹ä»¶
        é…ç½®é»˜è®¤æµè¡¨ (Table-miss)
        """
        datapath = ev.msg.datapath
        ofproto = datapath.ofproto
        parser = datapath.ofproto_parser

        # å®‰è£…Table-missæµè¡¨é¡¹
        # ä¼˜å…ˆçº§0ï¼ŒåŒ¹é…æ‰€æœ‰åŒ…ï¼Œå‘é€åˆ°æ§åˆ¶å™¨
        match = parser.OFPMatch()
        actions = [parser.OFPActionOutput(ofproto.OFPP_CONTROLLER,
                                          ofproto.OFPCML_NO_BUFFER)]
        self.add_flow(datapath, 0, match, actions)
        
        self.logger.info(f"äº¤æ¢æœº {datapath.id} å·²è¿æ¥")

    def add_flow(self, datapath, priority, match, actions, buffer_id=None):
        """æ·»åŠ æµè¡¨é¡¹"""
        ofproto = datapath.ofproto
        parser = datapath.ofproto_parser

        inst = [parser.OFPInstructionActions(ofproto.OFPIT_APPLY_ACTIONS,
                                             actions)]
        
        if buffer_id:
            mod = parser.OFPFlowMod(datapath=datapath, buffer_id=buffer_id,
                                    priority=priority, match=match,
                                    instructions=inst)
        else:
            mod = parser.OFPFlowMod(datapath=datapath, priority=priority,
                                    match=match, instructions=inst)
        
        datapath.send_msg(mod)

    @set_ev_cls(ofp_event.EventOFPPacketIn, MAIN_DISPATCHER)
    def packet_in_handler(self, ev):
        """
        å¤„ç†PacketInäº‹ä»¶
        å­¦ä¹ MACåœ°å€å¹¶å®‰è£…è½¬å‘æµè¡¨
        """
        msg = ev.msg
        datapath = msg.datapath
        ofproto = datapath.ofproto
        parser = datapath.ofproto_parser
        in_port = msg.match['in_port']

        # è§£æåŒ…
        pkt = packet.Packet(msg.data)
        eth = pkt.get_protocols(ethernet.ethernet)[0]

        # å¿½ç•¥LLDPåŒ…
        if eth.ethertype == ether_types.ETH_TYPE_LLDP:
            return

        dst = eth.dst
        src = eth.src
        dpid = datapath.id

        self.mac_to_port.setdefault(dpid, {})
        
        self.logger.info(f"PacketIn: dpid={dpid} src={src} dst={dst} in_port={in_port}")

        # å­¦ä¹ æºMACåœ°å€
        self.mac_to_port[dpid][src] = in_port

        # å†³å®šè¾“å‡ºç«¯å£
        if dst in self.mac_to_port[dpid]:
            out_port = self.mac_to_port[dpid][dst]
        else:
            # æœªçŸ¥ç›®çš„ï¼Œæ³›æ´ª
            out_port = ofproto.OFPP_FLOOD

        actions = [parser.OFPActionOutput(out_port)]

        # å¦‚æœå·²çŸ¥ç›®çš„ï¼Œå®‰è£…æµè¡¨é¡¹
        if out_port != ofproto.OFPP_FLOOD:
            match = parser.OFPMatch(in_port=in_port, eth_dst=dst, eth_src=src)
            
            # è®¾ç½®è¶…æ—¶: 60ç§’ç©ºé—²è¶…æ—¶ï¼Œ300ç§’ç¡¬è¶…æ—¶
            if msg.buffer_id != ofproto.OFP_NO_BUFFER:
                self.add_flow(datapath, 1, match, actions, msg.buffer_id)
                return
            else:
                self.add_flow(datapath, 1, match, actions)

        # å‘é€åŒ…å‡ºå»
        data = None
        if msg.buffer_id == ofproto.OFP_NO_BUFFER:
            data = msg.data

        out = parser.OFPPacketOut(datapath=datapath, buffer_id=msg.buffer_id,
                                  in_port=in_port, actions=actions, data=data)
        datapath.send_msg(out)


# æ‰©å±•åº”ç”¨: æµé‡ç›‘æ§
class TrafficMonitor(app_manager.RyuApp):
    """ç®€å•æµé‡ç›‘æ§åº”ç”¨"""
    
    OFP_VERSIONS = [ofproto_v1_3.OFP_VERSION]
    
    def __init__(self, *args, **kwargs):
        super(TrafficMonitor, self).__init__(*args, **kwargs)
        self.stats = {}

    @set_ev_cls(ofp_event.EventOFPFlowStatsReply, MAIN_DISPATCHER)
    def flow_stats_reply_handler(self, ev):
        """å¤„ç†æµç»Ÿè®¡å›å¤"""
        body = ev.msg.body
        
        for stat in sorted([flow for flow in body if flow.priority == 1],
                          key=lambda flow: (flow.match.get('in_port'),
                                          flow.match.get('eth_dst'))):
            self.logger.info(f"Flow: in_port={stat.match.get('in_port')} "
                           f"dst={stat.match.get('eth_dst')} "
                           f"packets={stat.packet_count} bytes={stat.byte_count}")

    def request_stats(self, datapath):
        """è¯·æ±‚æµç»Ÿè®¡"""
        ofproto = datapath.ofproto
        parser = datapath.ofproto_parser
        
        req = parser.OFPFlowStatsRequest(datapath)
        datapath.send_msg(req)
```

### NFVéƒ¨ç½²å®è·µ

**3. VNFéƒ¨ç½²è„šæœ¬**

```bash
#!/bin/bash
# VNFéƒ¨ç½²è„šæœ¬
# ä½¿ç”¨KVM/QEMUéƒ¨ç½²è™šæ‹Ÿç½‘ç»œåŠŸèƒ½

set -e

VNF_NAME=${VNF_NAME:-"vnf-router"}
VNF_IMAGE=${VNF_IMAGE:-"ubuntu-22.04.qcow2"}
ACTION=${1:-"create"}

echo "=== VNFéƒ¨ç½²å·¥å…· ==="
echo "VNFåç§°: $VNF_NAME"
echo ""

# åˆ›å»ºVNF
create_vnf() {
    echo "åˆ›å»ºVNF: $VNF_NAME"
    
    # åˆ›å»ºç£ç›˜é•œåƒ
    qemu-img create -f qcow2 -b $VNF_IMAGE /var/lib/libvirt/images/${VNF_NAME}.qcow2 20G
    
    # åˆ›å»ºè™šæ‹Ÿæœº
    virt-install \
        --name $VNF_NAME \
        --ram 4096 \
        --vcpus 2 \
        --disk path=/var/lib/libvirt/images/${VNF_NAME}.qcow2,format=qcow2 \
        --network bridge=br-mgmt,model=virtio \
        --network bridge=br-data,model=virtio \
        --os-variant ubuntu22.04 \
        --import \
        --noautoconsole \
        --cpu host-passthrough
    
    echo "VNFåˆ›å»ºå®Œæˆ"
    echo "ç­‰å¾…å¯åŠ¨..."
    sleep 10
    
    # è·å–IP
    virsh domifaddr $VNF_NAME
}

# é…ç½®VNFç½‘ç»œåŠŸèƒ½
configure_vnf() {
    echo "é…ç½®VNFç½‘ç»œåŠŸèƒ½"
    
    # è·å–VNF IP
    VNF_IP=$(virsh domifaddr $VNF_NAME | grep ipv4 | awk '{print $4}' | cut -d'/' -f1)
    
    if [ -z "$VNF_IP" ]; then
        echo "æ— æ³•è·å–VNF IPåœ°å€"
        return 1
    fi
    
    echo "VNF IP: $VNF_IP"
    
    # é…ç½®ä¸ºè·¯ç”±å™¨
    ssh -o StrictHostKeyChecking=no ubuntu@$VNF_IP << 'EOF'
        # å¯ç”¨IPè½¬å‘
        echo "net.ipv4.ip_forward=1" >> /etc/sysctl.conf
        sysctl -p
        
        # é…ç½®é˜²ç«å¢™ (ä½œä¸ºvFW)
        apt-get update
        apt-get install -y iptables
        
        # NATé…ç½®ç¤ºä¾‹
        iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
        iptables -A FORWARD -i eth1 -o eth0 -j ACCEPT
        
        # ä¿å­˜è§„åˆ™
        iptables-save > /etc/iptables/rules.v4
EOF
}

# åˆ é™¤VNF
delete_vnf() {
    echo "åˆ é™¤VNF: $VNF_NAME"
    
    virsh destroy $VNF_NAME 2>/dev/null || true
    virsh undefine $VNF_NAME
    rm -f /var/lib/libvirt/images/${VNF_NAME}.qcow2
    
    echo "VNFå·²åˆ é™¤"
}

# æ˜¾ç¤ºçŠ¶æ€
show_status() {
    echo "VNFåˆ—è¡¨:"
    virsh list --all | grep $VNF_NAME || echo "æ— VNF"
    
    if virsh list --all | grep -q $VNF_NAME; then
        echo ""
        echo "VNFè¯¦æƒ…:"
        virsh dominfo $VNF_NAME
        
        echo ""
        echo "ç½‘ç»œæ¥å£:"
        virsh domiflist $VNF_NAME
        
        echo ""
        echo "IPåœ°å€:"
        virsh domifaddr $VNF_NAME
    fi
}

# ä¸»é€»è¾‘
case "$ACTION" in
    create)
        create_vnf
        ;;
    configure)
        configure_vnf
        ;;
    delete)
        delete_vnf
        ;;
    status)
        show_status
        ;;
    *)
        echo "ç”¨æ³•: $0 <action>"
        echo ""
        echo "Actions:"
        echo "  create     - åˆ›å»ºVNF"
        echo "  configure  - é…ç½®VNF"
        echo "  delete     - åˆ é™¤VNF"
        echo "  status     - æ˜¾ç¤ºçŠ¶æ€"
        ;;
esac
```

## ğŸ“š èµ„æºç´¢å¼•

### å¼€æºé¡¹ç›®

| é¡¹ç›® | ç±»å‹ | é“¾æ¥ |
|-----|------|------|
| **Open vSwitch** | è™šæ‹Ÿäº¤æ¢æœº | openvswitch.org |
| **ONOS** | SDNæ§åˆ¶å™¨ | onosproject.org |
| **OpenDaylight** | SDNæ§åˆ¶å™¨ | opendaylight.org |
| **Ryu** | SDNæ§åˆ¶å™¨ | osrg.github.io/ryu |
| **FD.io/VPP** | é«˜æ€§èƒ½æ•°æ®å¹³é¢ | fd.io |

### æ ‡å‡†ç»„ç»‡

| ç»„ç»‡ | è¯´æ˜ |
|-----|------|
| **ONF** | å¼€æ”¾ç½‘ç»œåŸºé‡‘ä¼šï¼ŒOpenFlowæ ‡å‡† |
| **ETSI NFV** | NFVæ ‡å‡†è§„èŒƒ |
| **MEF** | åŸåŸŸä»¥å¤ªç½‘è®ºå› |

## ğŸ”— å…³è”çŸ¥è¯†

```mermaid
flowchart TB
    subgraph C02_SDN_NFV[SDN/NFV]
        OpenFlow[OpenFlowåè®®]
        OVS[Open vSwitch]
        Controller[SDNæ§åˆ¶å™¨]
        MANO[NFV MANO]
    end
    
    subgraph B08_Network[ç½‘ç»œæ ˆ]
        C01_TCPIP[[C01 TCP/IPä¼˜åŒ–]]
        C03_Zero_Trust[[C03 é›¶ä¿¡ä»»ç½‘ç»œ]]
    end
    
    subgraph B09_Virtualization[è™šæ‹ŸåŒ–]
        C02_Container[[C02 å®¹å™¨è¿è¡Œæ—¶]]
    end
    
    C02_SDN_NFV --> C01_TCPIP
    C02_SDN_NFV --> C03_Zero_Trust
    C02_SDN_NFV --> C02_Container
```

## ğŸ’¡ å­¦ä¹ å»ºè®®

### å…¥é—¨è·¯å¾„

1. **SDNåŸºç¡€**ï¼ˆ1-2å‘¨ï¼‰
   - ç†è§£SDNæ¶æ„
   - å­¦ä¹ OpenFlowåè®®
   - æ­å»ºMininetå®éªŒç¯å¢ƒ

2. **æ§åˆ¶å™¨å¼€å‘**ï¼ˆ3-4å‘¨ï¼‰
   - Ryuæ§åˆ¶å™¨åº”ç”¨å¼€å‘
   - æµè¡¨ç¼–ç¨‹
   - ç½‘ç»œå¯è§†åŒ–

3. **NFVå®è·µ**ï¼ˆ5-6å‘¨ï¼‰
   - VNFç”Ÿå‘½å‘¨æœŸç®¡ç†
   - MANOå¹³å°ä½¿ç”¨
   - æœåŠ¡é“¾ç¼–æ’

---

*æœ€åæ›´æ–°: 2026-01-30*  
*ç»´æŠ¤è€…: Infrastructure Team*
